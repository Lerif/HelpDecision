<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script src="http://getbootstrap.com/dist/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="../css/custom.css" type="text/css" />
	<link rel="stylesheet" href="../css/bootstrap/bootstrap.css" type="text/css" media="all" />
	<link rel="stylesheet" href="../css/custom.css" type="text/css" />
	<link rel="stylesheet" href="../css/bootstrap/bootstrap-theme.css" type="text/css" media="all" />
	<link rel="script" href="../css/bootstrap/bootstrap-theme.css" type="text/css" media="all" />
	<script src="../dist/js/alertify.min.js"></script>
	<link rel="stylesheet" href="../css/alertify.min.css" />
	<link rel="stylesheet" href="../css/themes/default.min.css" />
	
	<!-- Include Required Prerequisites -->
<script type="text/javascript" src="//cdn.jsdelivr.net/jquery/1/jquery.min.js"></script>
<script type="text/javascript" src="//cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/bootstrap/3/css/bootstrap.css" />
 
<!-- Include Date Range Picker -->
<script type="text/javascript" src="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.js"></script>
<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.css" />


	<title>Home | Help Decision</title>
</h:head>

<h:body>
	<nav class="navbar navbar-default">
	<div class="container-fluid">
		<!-- Brand e toggle agrupados para melhor visualização em mobiles -->
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed"
				data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"
				aria-expanded="false">
				<span class="sr-only">Barra de Navegação</span> <span
					class="icon-bar"></span> <span class="icon-bar"></span> <span
					class="icon-bar"></span>
			</button>
		</div>

		<div class="collapse navbar-collapse"
			id="bs-example-navbar-collapse-1">
			<p class="navbar-text">Help Decision</p>
			<ul class="nav navbar-nav navbar-right">
				<li data-toggle="modal" data-target="#modal_sobre"><a href="#">Sobre</a></li>
							<div class="col-lg-6 col-sm-6 col-3 btn btn-md">
								<a href="upload.xhtml">
								<h:commandButton class="btn btn-warning pull-left btn-md m-t-md"
									value="Upload" /></a>
							</div>
				
			</ul>

		</div>

	</div>
	</nav>

	<h3 class="text-primary">Dashboard</h3>
	<br></br>

	<div class="container">
		<div class="login-box well">
			<h:form id="formLogin" enctype="multipart/form-data">
				<div class="dropdown">
					<!-- converter="#{servidorConverter}" -->
					<h:selectOneMenu value="#{uploadBean.itemSelecionado}"
						class="btn btn-default">
						<f:selectItem itemLabel="Selecione um Servidor" />
						<f:selectItems value="#{uploadBean.comboServidores}" />
						<!-- var="servidor" itemLabel="#{servidor.label}" -->
					</h:selectOneMenu>

					<br></br>
					<button type="button" class="btn btn-md btn-primary"
						id="botaoCadastre" data-toggle="modal"
						data-target="#cadastra_servidor">Cadastre um Novo</button>
				</div>

				<div class="form-group">
					
					
						
						<label for="portas"><h:outputText class="cadastroProduto"
							value="Data Início e Fim:" /></label>


					Inicio:
					<h:inputText value="#{homeBean.rangeInicio}" converterMessage="Please enter digits only." />
					Fim:
					<h:inputText value="#{homeBean.rangeFim}" converterMessage="Please enter digits only." />

					
				</div>
				<p id="mostrarMensagemServidor"></p>

				<br></br>
				<h:messages id="msg" style="color:blue" layout="table" />
				<br></br>
				<div class="form-group">
					
					<h:commandButton type="submit"
						class="btn btn-success btn-login-submit btn-md m-t-md"
						value="Filtrar" action="#{homeBean.filtrar}" />
					
				</div>
			</h:form>
		</div>
	</div>
	<div class='col-md-3'></div>

	<div class="container">
		<div class="row">


			<div class="col-md-12">
				<div class="table-responsive">
				<h:form>
					<h:dataTable class="table table-bordred table-striped" 
						id="chamadaMetodo" value="#{homeBean.gerarLogDashboardInicial}" var="log">
						
						<h:column>
							<f:facet name="header">
								<h:outputText value="Nome"/>
							</f:facet>
							<h:outputText value="#{log.nomeMetodo}"/>				
						</h:column>
						
						<h:column>
							<f:facet name="header">
								<h:outputText value="Quantidade de Chamadas"/>
							</f:facet>
							<div align="center">	
							<h:outputText value="#{log.quantidadeDessaChamada}"/>
							</div>				
						</h:column>
						
						<h:column>
							<f:facet name="header">
								<h:outputText value="% De Quantidade de Chamadas"/>
							</f:facet>
							<div align="center">
								<h:outputText value="#{log.porcentagemTotal}">
									<f:convertNumber pattern="#0.00"/>
								</h:outputText>
							</div>				
						</h:column>
						
						<h:column>
							<f:facet name="header">
								<h:outputText value="Tempo Total"/>
							</f:facet>
							<div align="center">	
								<h:outputText value="#{log.tempoTotal}"/>
							</div>				
						</h:column>
						
						<h:column>
							<f:facet name="header">
								<h:outputText value="Tempo Medio"/>
							</f:facet>
							<div align="center">	
								<h:outputText value="#{log.tempoMedio}"/>
							</div>				
						</h:column>
						
						<h:column>
							<f:facet name="header">
								<h:outputText value="Maior Tempo"/>
							</f:facet>
							<div align="center">
								<h:outputText value="#{log.tempoMaior}"/>
							</div>				
						</h:column>
						
						<h:column>
							<f:facet name="header">
								<h:outputText value="Menor Tempo"/>
							</f:facet>
							<div align="center">	
								<h:outputText value="#{log.tempoMenor}"/>
							</div>				
						</h:column>
						
						<h:column>
							<f:facet name="header">
								<h:outputText value="Servidor"/>
							</f:facet>
							<div align="center">	
								<h:outputText value="#{log.nomeServidor}"/>
							</div>				
						</h:column>
						
					</h:dataTable>
				</h:form>
				</div>
			</div>
		</div>
	</div>

</h:body>


<!-- Modal Sobre-->
<div class="modal fade" id="modal_sobre" tabindex="-1" role="dialog"
	aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<h4 class="modal-title" id="modalSobre">Help Decision</h4>
			</div>
			<div class="modal-body">
				<b>Desenvolvido por:</b><br></br> Jovens Profissionais "Doberman"<br></br>
				<br></br> <b>Equipe:</b><br></br> Gabriel Rado<br></br> Guilherme
				Bury<br></br> Gustavo Daneluti<br></br> Thales Rocha<br></br> Thiago
				Osiro
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
			</div>
		</div>
	</div>
</div>

	<script>
	

	$(function() {
	    $('input[name="daterange"]').daterangepicker();
	});

	
	
	</script>
</html>
